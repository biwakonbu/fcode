# FC-007: uxペイン対応

## 背景
dev1-3とqa1-2ペイン実装完了後、UX/UIデザイン専門のuxペインを実装し、ユーザビリティ観点でのClaude対話を実現します。中段右側ペインに配置され、UI/UX設計・評価に特化したエージェント機能を提供します。

## 目的
1. uxペインでUX/UI専用プロンプトを用いたClaude Code対話を実現する
2. ユーザビリティ、アクセシビリティ、使いやすさ評価に特化したエージェント機能を提供する
3. dev1-3, qa1-2との独立したセッション管理でマルチロール協調基盤を確立する

## 作業内容
- [ ] **UIレイアウト拡張**: uxペインへのTextView配置とキーバインド (Ctrl+X 6) 追加
- [ ] **UX専用プロンプト設定**: システムプロンプトにUX観点の役割定義実装
  ```
  システムプロンプト: "あなたはUX/UIデザインの専門家です。
  ユーザビリティ、アクセシビリティ、使いやすさを重視してください。
  ワイヤーフレーム設計、ユーザフロー分析、UI改善提案を行ってください。"
  ```
- [ ] **SessionManager拡張**: `createSession "ux"`対応ロジック追加
- [ ] **Worker起動機能**: uxペイン用独立Workerプロセス起動、環境変数 `CLAUDE_ROLE=ux` 付与
- [ ] **統合テスト**: dev1-3, qa1-2, ux 6ペイン同時起動・独立動作確認
- [ ] **UX機能検証**: ワイヤーフレーム確認、ユーザフロー分析のユースケーステスト

## 受け入れ基準
- [ ] uxペインでUX観点の入力→応答サイクルが完了する
- [ ] CPU/メモリ使用量がqa1-2時 +15%以内に収まる (6ペイン同時実行)
- [ ] UX専用プロンプトが正常に機能し、デザイン観点の回答を生成する
- [ ] 他ペインとのクラッシュ分離が維持される (ProcessSupervisor統合)
- [ ] uxペインの会話が他ペインと混線しない

## 実装パターン (FC-005/FC-006準拠)
### 1. UI拡張 (Program.fs)
- uxペイン用TextView追加 (中段右側レイアウト)
- キーバインド追加: Ctrl+X 6(ux)
- 自動起動機能をuxに拡張

### 2. セッション管理 (ClaudeCodeProcess.fs)
- CLAUDE_ROLE=ux環境変数設定
- ux用セッション作成・管理ロジック
- WorkerProcessManagerとの統合

### 3. プロセス分離
- ux用独立Workerプロセス起動
- ProcessSupervisor経由での監視・復旧機能
- IPC通信による安全なセッション制御

## レイアウト設計 (docs/ui_layout.md準拠)
```
┌──────┬───────────┬───────────┬───────────┐
│ 会話 │  dev1     │   dev2    │  dev3     │
│      ├───────────┼───────────┼───────────┤
│      │  qa1      │   qa2     │  ux       │ ← ここに配置
│      ├───────────┴───────────┴───────────┤
│      │        PM / PdM タイムライン       │
└──────┴───────────────────────────────────┘
```

## リソース設計
- **CPU使用率**: ux追加で+1-2%想定 (デザイン・分析負荷)
- **メモリ使用量**: +150-200MB想定 (Claude Codeインスタンス)
- **プロセス数**: +1 (ux Worker)

## UX機能例
- ワイヤーフレーム設計支援
- ユーザビリティ評価
- アクセシビリティチェック
- UI改善提案
- ユーザフロー分析

## 参照
- `docs/ui_layout.md` - UX役割定義・レイアウト詳細
- `docs/process-architecture.md` - プロセス分離・監視設計
- `issues/FC-005-dev2-dev3.md` - 実装パターン参考
- `issues/FC-006-qa-panes.md` - 前段階実装参考

---
**担当**: @biwakonbu
**見積**: 1 人日
**優先度**: 🟨 中 
**依存**: FC-006完了